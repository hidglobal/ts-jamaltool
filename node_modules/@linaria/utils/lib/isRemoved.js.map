{"version":3,"file":"isRemoved.js","names":["isRemoved","path","removed","currentPath","parent","parentPath","listKey","key","get","node"],"sources":["../src/isRemoved.ts"],"sourcesContent":["import type { NodePath } from '@babel/traverse';\n\n/**\n * Checks if a given path has been removed from the AST.\n */\nexport default function isRemoved(path: NodePath): boolean {\n  // Check if the input path has already been removed\n  if (path.removed) {\n    return true;\n  }\n\n  // Check if any of the parent paths have been removed\n  let currentPath: NodePath | null = path;\n  while (currentPath) {\n    const parent: NodePath | null = currentPath.parentPath;\n\n    if (parent) {\n      // If the parent path has been removed, return true\n      if (parent.removed) {\n        return true;\n      }\n\n      const { listKey, key } = currentPath;\n      if (listKey) {\n        // If the current path is part of a list and its node is not the same\n        // as the node in the parent list at the same index, return true\n        if (\n          (parent.get(listKey) as NodePath[])[key as number].node !==\n          currentPath.node\n        ) {\n          return true;\n        }\n      }\n      // If the current path is not part of a list and its node is not the same\n      // as the node in the parent object at the same key, return true\n      else if (\n        (parent.get(key as string) as NodePath).node !== currentPath.node\n      ) {\n        return true;\n      }\n    }\n\n    // Set the current path to its parent path and continue the loop\n    currentPath = parent;\n  }\n\n  // If the function has not returned true by this point, return false\n  return false;\n}\n"],"mappings":";;;;;;AAEA;AACA;AACA;AACe,SAASA,SAAS,CAACC,IAAc,EAAW;EACzD;EACA,IAAIA,IAAI,CAACC,OAAO,EAAE;IAChB,OAAO,IAAI;EACb;;EAEA;EACA,IAAIC,WAA4B,GAAGF,IAAI;EACvC,OAAOE,WAAW,EAAE;IAClB,MAAMC,MAAuB,GAAGD,WAAW,CAACE,UAAU;IAEtD,IAAID,MAAM,EAAE;MACV;MACA,IAAIA,MAAM,CAACF,OAAO,EAAE;QAClB,OAAO,IAAI;MACb;MAEA,MAAM;QAAEI,OAAO;QAAEC;MAAI,CAAC,GAAGJ,WAAW;MACpC,IAAIG,OAAO,EAAE;QACX;QACA;QACA,IACGF,MAAM,CAACI,GAAG,CAACF,OAAO,CAAC,CAAgBC,GAAG,CAAW,CAACE,IAAI,KACvDN,WAAW,CAACM,IAAI,EAChB;UACA,OAAO,IAAI;QACb;MACF;MACA;MACA;MAAA,KACK,IACFL,MAAM,CAACI,GAAG,CAACD,GAAG,CAAW,CAAcE,IAAI,KAAKN,WAAW,CAACM,IAAI,EACjE;QACA,OAAO,IAAI;MACb;IACF;;IAEA;IACAN,WAAW,GAAGC,MAAM;EACtB;;EAEA;EACA,OAAO,KAAK;AACd"}